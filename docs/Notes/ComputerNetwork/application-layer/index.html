<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Notes/ComputerNetwork/应用层">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">应用层 | Jetzihan</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://jetzihan.netlify.app/docs/Notes/ComputerNetwork/application-layer"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="msvalidate.01" content="7BFDC4075777E569E05945A5D040DA05"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="应用层 | Jetzihan"><meta data-rh="true" name="description" content="应用层协议原理"><meta data-rh="true" property="og:description" content="应用层协议原理"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jetzihan.netlify.app/docs/Notes/ComputerNetwork/application-layer"><link data-rh="true" rel="alternate" href="https://jetzihan.netlify.app/docs/Notes/ComputerNetwork/application-layer" hreflang="en"><link data-rh="true" rel="alternate" href="https://jetzihan.netlify.app/docs/Notes/ComputerNetwork/application-layer" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Jetzihan RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Jetzihan Atom Feed"><link rel="stylesheet" href="/assets/css/styles.f9f8d0c4.css">
<link rel="preload" href="/assets/js/runtime~main.0e795303.js" as="script">
<link rel="preload" href="/assets/js/main.33724437.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Jetzihan" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Jetzihan" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Jetzihan</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Notes</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/front/">FrontEnd</a></li><li><a class="dropdown__link" href="/docs/study/">Study</a></li><li><a class="dropdown__link" href="/docs/back/">BackEnd</a></li></ul></div><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Projects</a><ul class="dropdown__menu"><li><a href="https://daymd.netlify.app/zh" target="_blank" rel="noopener noreferrer" class="dropdown__link">Daymd</a></li><li><a class="dropdown__link" href="/projects">SVG-Board</a></li><li><a class="dropdown__link" href="/projects_csspano">cssPano</a></li><li><a class="dropdown__link" href="/stars">Nebula</a></li></ul></div><a class="navbar__item navbar__link" href="/website">Links</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div><a class="navbar__item navbar__link SandBoxButton" href="/CodingOnline">Sandpack</a><a href="https://github.com/inannan423" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="Github repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Hello</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/前端">前端</a><button aria-label="Toggle the collapsible sidebar category &#x27;前端&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/服务端">服务端</a><button aria-label="Toggle the collapsible sidebar category &#x27;服务端&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/学习笔记">学习笔记</a><button aria-label="Toggle the collapsible sidebar category &#x27;学习笔记&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/study">学习笔记引入</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/数据结构">数据结构</a><button aria-label="Toggle the collapsible sidebar category &#x27;数据结构&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/数媒基础">数媒基础</a><button aria-label="Toggle the collapsible sidebar category &#x27;数媒基础&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/计算机网络">计算机网络</a><button aria-label="Toggle the collapsible sidebar category &#x27;计算机网络&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/tcp-ip-layered-diagram">TCP/IP分层图</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/chinese-english-concept">中英文概念</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/network-classification-and-layered-architecture">网络分类和分层架构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/basic-knowledge">基础知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Notes/ComputerNetwork/application-layer">应用层</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/application-layer-dns">应用层-DNS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/transport-layer">运输层</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/transport-layer-reliable-data-transfer">运输层-可靠数据传输(rdt)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/tcp-connection-establishment-process">运输层-TCP连接建立过程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/network-layer">网络层</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/data-link-layer-ethernet">数据链路层-以太网</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/physical-layer">物理层</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/exercise-cn">习题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Notes/ComputerNetwork/WireShark">分组嗅探和WireShark</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/计算机图形学">计算机图形学</a><button aria-label="Toggle the collapsible sidebar category &#x27;计算机图形学&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/学习笔记"><span itemprop="name">学习笔记</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/计算机网络"><span itemprop="name">计算机网络</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">应用层</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>应用层</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="应用层协议原理">应用层协议原理<a class="hash-link" href="#应用层协议原理" title="Direct link to heading">​</a></h2><p><strong><em>应用层协议只能在应用层工作，这种限制提高了开发效率</em></strong>  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔</div><div class="admonitionContent_S0QG"><p>网络核心没用应用层功能<br>
<!-- -->网络应用只在端系统上存在，快速网络应用开发和部署  </p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="应用层程序的体系结构">应用层程序的体系结构<a class="hash-link" href="#应用层程序的体系结构" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="客户-服务器结构-cs">客户-服务器结构 （C/S）<a class="hash-link" href="#客户-服务器结构-cs" title="Direct link to heading">​</a></h3><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 特点</div><div class="admonitionContent_S0QG"><p><strong>服务器</strong>：<br>
<!-- -->一直运行<br>
<!-- -->IP固定<br>
<!-- -->在数据中心，但是拓展性差【?】<br>
<strong>客户端</strong>：<br>
<!-- -->主动联系服务器<br>
<!-- -->可以间歇性联网<br>
<!-- -->可以是动态IP<br>
<!-- -->不直接与其他客户端通信（经过服务器）</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="对等体系结构-p2p">对等体系结构 （P2P）<a class="hash-link" href="#对等体系结构-p2p" title="Direct link to heading">​</a></h3><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 特点</div><div class="admonitionContent_S0QG"><p><strong>对位于数据中心的专用服务器有最小的（或者没有）依赖</strong>。<br>
<!-- -->没有一直运行的服务器<br>
<!-- -->任意端系统之间可以直接通信<br>
<!-- -->每一个节点既是客户端也是服务器  </p><blockquote><p>因此有较强的拓展性（Self-scalability）  </p></blockquote><p>参与的主机可以间歇性连接且可以改变IP地址<br>
<!-- -->例如：迅雷  </p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="进程通信">进程通信<a class="hash-link" href="#进程通信" title="Direct link to heading">​</a></h2><p><strong>进程是在主机上运行的程序</strong>  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 进程通信的特点</div><div class="admonitionContent_S0QG"><p>在同一个主机上，使用进程通信机制进行通信（操作系统定义的）<br>
<!-- -->在不同主机上使用报文（message）通信（借助传输层）  </p></div></div><p><strong>客户端进程：发起通信的进程</strong><br>
<strong>服务器进程：等待连接的进程</strong>  </p><blockquote><p>注意: 在P2P文件共享中，当对等方A请求对等方B送一个特定的文件时，在这个特定的通信会话中对等方A是客户，而对等方B是服务器。(P2P架构的应用也有客户端和服务器进程之分)  </p></blockquote><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>⚠ 进程寻址</div><div class="admonitionContent_S0QG"><p>在两个主机之间通信时，需要定义两种数据信息：一种是主机的地址，二是主机中指定接收进程的标识符。在Internet中，主机由<strong>IP地址</strong>进行标识，<strong>接收进程由端口号（Port Number）进行标识</strong>。例如，Web服务器使用端口号80，邮件服务器（SMTP）使用端口号25.  </p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="传输层为应用层提供的服务">传输层为应用层提供的服务<a class="hash-link" href="#传输层为应用层提供的服务" title="Direct link to heading">​</a></h2><p><strong>数据丢失率</strong>：传输可靠的文件。<br>
<strong>吞吐</strong>：完成进程交付比特的速率。<br>
<strong>延迟</strong>：传输层提供的服务的延迟。<br>
<strong>安全性</strong>：保证机密性和完整性。  </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="常见的应用">常见的应用<a class="hash-link" href="#常见的应用" title="Direct link to heading">​</a></h2><table><thead><tr><th align="center">应用</th><th align="center">数据丢失</th><th align="center">带宽</th><th align="center">时间敏感</th><th align="center">应用层协议</th><th align="center">支撑的传输层协议</th></tr></thead><tbody><tr><td align="center">文件传输</td><td align="center">不能丢失</td><td align="center">弹性</td><td align="center">不</td><td align="center">FTP*</td><td align="center">TCP</td></tr><tr><td align="center">电子邮件</td><td align="center">不能丢失</td><td align="center">弹性</td><td align="center">不</td><td align="center">SMTP</td><td align="center">TCP</td></tr><tr><td align="center">Web文档</td><td align="center">不能丢失</td><td align="center">弹性(几kbps)</td><td align="center">不</td><td align="center">HTTP</td><td align="center">TCP</td></tr><tr><td align="center">因特网电话</td><td align="center">容忍丢失</td><td align="center">音频(几kbps~1Mbps)</td><td align="center">是，100ms</td><td align="center">SIP、RTP</td><td align="center">UDP或TCP</td></tr><tr><td align="center">视频会议</td><td align="center">容忍丢失</td><td align="center">视频(10kbps~5Mbps)</td><td align="center">是，100ms</td><td align="center">SIP</td><td align="center">UDP或TCP</td></tr><tr><td align="center">交互式游戏</td><td align="center">容忍丢失</td><td align="center">几kbps~10kbps</td><td align="center">是，100ms</td><td align="center">\ </td><td align="center">\</td></tr><tr><td align="center">智能手机讯息</td><td align="center">不能丢失</td><td align="center">弹性</td><td align="center">是或不是(看具体)</td><td align="center">\ </td><td align="center">\</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="应用层协议">应用层协议<a class="hash-link" href="#应用层协议" title="Direct link to heading">​</a></h2><p><strong>应用层协议:</strong> 定义了运行在不同端系统上的应用程序进程如何相互交换报文，特别是应用层协议定义了：  </p><blockquote><p>交换的报文类型: 请求和应答报文<br>
<!-- -->各种报文类型的语法: 报文中的各个字段及其描述<br>
<!-- -->字段的 语义：即字段取值的含义<br>
<!-- -->进程何时、如何发送报文及对报文进行响应的规则  </p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tcp服务">TCP服务<a class="hash-link" href="#tcp服务" title="Direct link to heading">​</a></h3><p>可靠的传输服务<br>
<!-- -->流量控制：发送方不会淹没接受方<br>
<!-- -->拥塞控制：当网络出现拥塞时，能抑制发送方<br>
<!-- -->不能提供的服务：时间保证、最小吞吐保证和安全<br>
<!-- -->面向连接：要求在客户端进程和服务器进程之间建立连接  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="udp服务">UDP服务<a class="hash-link" href="#udp服务" title="Direct link to heading">​</a></h3><p>不可靠的数据传输<br>
<!-- -->不提供服务：可靠，流量控制、拥塞控制、时间、带宽保证、建立连接  </p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>⚠ UDP为什么存在</div><div class="admonitionContent_S0QG"><blockquote><p>能够区分不同的进程，而IP服务不能.在IP提供的主机到主机端到端功能的基础上，区分了主机的应用进程.无需建立连接，省去了建立连接时间，适合事务性的应用。不做可靠性的工作，例如检错重发，适合那些对实时性要求比较高而正确性要求不高的应用。因为为了实现可靠性(准确性、保序等），必须付出<strong>时间代价</strong> 没有拥塞控制和流量控制，能够按照设定的速度发送数据.而在TCP上面的应用，应用发送数据的速度和主机向网络发送的实际速度是不一致的，因为有流量控制和拥塞控制。</p></blockquote><p>因此，使用UDP服务可以减少大量不必要的时间开支。现在，UDP服务正有取代TCP的趋势。</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http超文本传输协议">HTTP:超文本传输协议<a class="hash-link" href="#http超文本传输协议" title="Direct link to heading">​</a></h3><p><strong>在客户/服务器模式中：</strong>
客户：请求、接收和显示Web对象的流量器<br>
<!-- -->服务器：对请求进行响应，发送对象的Web请求<br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zel1vzfbj309209rwg9.jpg" alt="image.png" class="img_ev3q">  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 HTTP采用TCP服务</div><div class="admonitionContent_S0QG"><p>客户发起一个与服务器的TCP连接(建立套接字), 端口号为80<br>
<!-- -->服务器接受客户的TCP连接<br>
<!-- -->在浏览器(HTTP客户端)与Web服务器(HTTP服务器server)交换HTTP报文(应用层协议报文)<br>
<!-- -->TCP连接关闭<br>
<strong>HTTP是无状态的</strong>
服务器并不维护关于客户的任何信息  </p></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>⚠ 什么是无状态协议</div><div class="admonitionContent_S0QG"><blockquote><p>常见的许多七层协议实际上是有状态的,例如SMTP协议,它的第一条消息必须是HELO,用来握手,在HELO发送之前其他任何命令都是不能发送的;接下来一般要进行AUTH阶段,用来验证用户名和密码;接下来可以发送邮件数据;最后,通过QUT命令退出。可以看到,在整个传输层上,通信的双方是必须要时刻记住当前连接的状态的,因为不同的状态下能接受的命令是不同的;另外,之前的命令传输的某些数据也必须要记住,可能会对后面的命令产生影响。这种就叫做有状态的协议。  </p></blockquote><p><strong>相反,为什么说HTTP是无状态的协议呢?因为它的每个请求都是完全独立的,每个请求包含了处理这个请求所需的完整的数据,发送请求不涉及到状态变更.</strong></p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="非持久http连接">非持久HTTP连接<a class="hash-link" href="#非持久http连接" title="Direct link to heading">​</a></h4><p>每个相应对是经一个单独的TCP连接发送，最多只有一个对象在TCP连接上发送，下载多个对象需要多个TCP连接<br>
<strong>HTTP/1.0使用非持久连接</strong><br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zevygxxoj30gw0hxah8.jpg" alt="image.png" class="img_ev3q"><br>
<!-- -->上图是一个HTTP/1.0的非持久连接，客户端向服务端请求一个对象（someDepartment/home.index），封装成请求报文传给客户端，客户端收到后，检索需要的对象，并将其封装成响应报文，并返回客户端。即刻Http关闭TCP连接。客户端检查收到的响应报文后找到n处应用对象，再次发起TCP连接进行请求。  </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="持久http连接">持久HTTP连接<a class="hash-link" href="#持久http连接" title="Direct link to heading">​</a></h4><p><strong>所有请求及响应经相同的TCP连接发送</strong><br>
<!-- -->多个对象可以在一个(在客户端和服务器之间的)TCP连接上传输<br>
<strong>HTTP/1.1默认使用持久连接</strong>  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>持久连接中的流水和非流水</div><div class="admonitionContent_S0QG"><p><strong>非流水线方式</strong>： 客户在收到前一个响应后才能发出下 一个请求。这比非持续连接的两倍 RTT 的开销节省了 建立 TCP 连接所需的一个 RTT时间。但服务器在发 送完一个对象后，其 TCP 连接就处于空闲状态，浪费 了服务器资源。  </p><p><strong>流水线方式</strong>： 客户在收到 HTTP的响应报文之前就能够接着发送新的请求报文。一个接一个的请求报文到 达服务器后，服务器就可连续发回响应报文。使用流水线方式时，客户访问所有的对象只需花费一个 RTT 时间，使 TCP 连接中的空闲时间减少，提高了下载文档效率。<br>
<!-- -->（详见后面的习题）  </p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="响应时间模型">响应时间模型<a class="hash-link" href="#响应时间模型" title="Direct link to heading">​</a></h4><p><strong>往返时间RTT（Round-Trip-Time）</strong>：<strong>一个小的分组从客户端到服务器，在回到客户端的时间</strong><br>
<!-- -->响应时间：<br>
<strong>一个RTT用来发起TCP连接=&gt;一个RTT用来HTTP请求并等待HTTP响应=&gt;文件传输时间</strong><br>
<!-- -->总共时间: 2RTT+传输时间</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http报文格式">HTTP报文格式<a class="hash-link" href="#http报文格式" title="Direct link to heading">​</a></h3><p><strong>请求报文</strong>  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">GET /somedir/page.html HTTP/1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Host: www.someschool.edu</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">User-agent: Mozila/4.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Connection: close</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Accept-language: fr</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zfd57d79j30cy04laag.jpg" alt="image.png" class="img_ev3q">  </p><p>下图是wireshark捕获的HTTP报文：<br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zffk5rp0j30vs0ahwl8.jpg" alt="image.png" class="img_ev3q"></p><p><strong>响应报文</strong><br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zffz4712j309806emy3.jpg" alt="image.png" class="img_ev3q"><br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zfh91q93j30vv0ckwmf.jpg" alt="image.png" class="img_ev3q">  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 Method请求方法</div><div class="admonitionContent_S0QG"><blockquote><p>请求行由三部分组成：请求方法，请求URL（不包括域名），HTTP协议版本<br>
<!-- -->请求方法比较多：GET、POST、HEAD、PUT、DELETE、OPTIONS、TRACE、CONNECT</p></blockquote><p><strong>GET</strong>:传递参数长度受限制，因为<strong>传递的参数是直接表示在地址栏中</strong>，而特定浏览器和服务器对url的长度是有限制的。因此，<strong>GET不适合用来传递私密数据</strong>，也不适合拿来传递大量数据。一般的HTTP请求大多都是GET。</p><blockquote><p>在做web编程时，为了页面跳转携带数据，我们会将数据加在URL后面，比如：<a href="http://www.someschool.edu/somedir/page.html?name=jim&amp;age=18" target="_blank" rel="noopener noreferrer">http://www.someschool.edu/somedir/page.html?name=jim&amp;age=18</a>，问号后面就是数据部分。  </p><hr><p><strong>POST</strong>：POST把传递的数据封装在HTTP请求数据中，以名称/值的形式出现，可以传输大量数据，对数据量没有限制，也不会显示在URL中。表单的提交用的是POST。  </p><hr><p><strong>HEAD</strong>：HEAD跟GET相似，<strong>不过服务端接收到HEAD请求时只返回响应头</strong>，不发送响应内容。所以，<strong>如果只需要查看某个页面的状态时</strong>，用HEAD更高效，因为省去了传输页面内容的时间。<strong>用于页面状态的查询</strong>。<br>
<strong><a href="https://www.cnblogs.com/myseries/p/11239662.html" target="_blank" rel="noopener noreferrer">其他方法解析</a></strong></p></blockquote></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http响应状态码">HTTP响应状态码<a class="hash-link" href="#http响应状态码" title="Direct link to heading">​</a></h3><p><strong>位于服务器-&gt;客户端的响应报文中的首行</strong>
一些状态码的例子：  </p><p>200 OK<br>
<!-- -->请求成功，请求对象包含在响应报文的后续部分  </p><hr><p>301 Moved Permanently<br>
<!-- -->请求的对象已经被永久转移了；新的URL在响应报文的Location：首部行中指定
客户端软件自动用新的URL去获取对象  </p><hr><p>400 Bad Request<br>
<!-- -->一个通用的差错代码，表示该请求不能被服务器解读</p><hr><p>404 Not Found<br>
<!-- -->请求的文档在该服务上没有找到</p><hr><p>505 HTTP Version Not Supported  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cookie">cookie<a class="hash-link" href="#cookie" title="Direct link to heading">​</a></h3><p><strong>大多数主要的门户网站使用cookie</strong><br>
<!-- -->1.在HTTP响应报文中有一个cookie的首部行<br>
<!-- -->2.在HTTP请求报文含有一个cookie的首部行<br>
<!-- -->3.在用户端系统中保留有一个cookie文件，由用户的浏览器管理<br>
<!-- -->4.在Web站点有一个后端数据库  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 cookie的作用例子</div><div class="admonitionContent_S0QG"><p>Susan总是用同一个PC使用Internet Explore上网,她第一次访问了一个使用了Cookie的电子商务网站,当最初的HTTP请求到达服务器时，该Web站点产生一个唯一的ID，并以此作为索引在它的后端数据库中产生一个表项.  </p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="web缓存-代理服务器">WEB缓存 （代理服务器）<a class="hash-link" href="#web缓存-代理服务器" title="Direct link to heading">​</a></h2><p><strong>目标：不访问原始服务器，就满足客户的请求</strong><br>
<!-- -->用户设置浏览器： 通过缓存访问Web<br>
<!-- -->浏览器将所有的HTTP请求发给缓存<br>
<!-- -->在缓存中的对象：缓存直接返回对象<br>
<!-- -->如对象不在缓存，缓存请求原始服务器，然后再将对象返回给客户端<br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zfzjyljmj30c509qmzr.jpg" alt="image.png" class="img_ev3q"><br>
<strong>实际上，缓存既是客户端也是服务器。</strong>  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="条件getthe-conditional-get">条件GET（The Conditional GET）<a class="hash-link" href="#条件getthe-conditional-get" title="Direct link to heading">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>🌳</div><div class="admonitionContent_S0QG"><p>尽管高速缓存能减少响应时间，但是也引入了一个新的问题：<strong>缓存器中的对象副本可能是陈旧的</strong>。幸运的是，HTTP协议有一种机制，<strong>让缓存器证实它的对象是最新的</strong>。这种机制就是<strong>条件GET方法</strong>。</p><p><strong>目标：</strong> 如果缓存器中的对象拷贝是最新的，就不要发送对象<br>
<strong>缓存器：</strong> 在HTTP请求中指定缓存拷贝的日期 if-modified-since:<br>
<strong>服务器：</strong> 如果缓存拷贝陈旧，则响应报文没包含对象：HTTP/1.0 304 Not Modified  </p></div></div><p><strong>步骤</strong>  </p><ol><li>代理服务器代表请求浏览器发送一条请求报文给web server</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">GET /fruit/kiwi.gif HTTP/1.1  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Host: www.exotiquecuisine.com  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Web 服务器将带有请求对象的响应报文发送给cache  </li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Date: Sat, 8 Oct 2011 15:39:29</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Server: Apache/1.3.0 (Unix)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Last-Modified: Wed, 7 Sep 2011 09:23:24</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Content-Type: image/gif</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(data data data ...)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>cache将这个对象转发给请求的浏览器并且将这个对象缓存到自己的本地存储。重要的是，cache将这个对象上次修改的时间也存储了起来。  </p><ol start="3"><li>一周之后，<strong>另一个浏览器通过cache请求了相同的对象</strong>，<strong>并且这个对象仍然在cache里</strong>。<strong>由于这个对象可能在过去的一周里被修改过，cache就发起一个conditional GET来做一个更新检查。</strong></li></ol><p>具体的报文如下:  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">GET /fruit/kiwi.gif HTTP/1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Host: www.exotiquecuisine.com</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">If-modified-since: Wed, 7 Sep 2011 09:23:24</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>注意If-modified-since的值就是一周前Last-Modified的值</strong>。这个条件GET告诉服务器仅在对象在这个时间之后被修改的情况下才发送这个对象给我。<br>
<strong>假定这个对象自从一周前没有被修改过</strong>，那么第4步：  </p><ol start="4"><li>Web服务器就会发送一个响应报文</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">HTTP/1.1 304 Not Modified</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Date: Sat, 15 Oct 2011 15:39:29</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Server: Apache/1.3.0 (Unix)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(empty entity body)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我们可以看到，在回复条件GET时，<strong>web server依然发送 了一个响应报文但是并没有在响应消息中包含请求的对象</strong>。包含请求的对象会浪费带宽，增加用户感知响应时间。  </p><p>注意，最后一条响应报文有一个304的状态码，<strong>意思是Not Modified</strong>。这也就告知了缓存它可以继续了，将这个对象的cached copy发送给请求的browser.<br>
<strong>但是如果发生了修改，服务器将资源发给请求端。</strong>  </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="电子邮件应用smtp">电子邮件应用SMTP<a class="hash-link" href="#电子邮件应用smtp" title="Direct link to heading">​</a></h2><p><strong>简单邮件传输协议 Simple Mail Transfer Protocol</strong> ，尽管邮件服务器可以用SMTP发送、接收邮件，但是邮件客户端只能用SMTP发送邮件，接<strong>收邮件一般用IMAP 或者 POP3</strong> 。邮件客户端使用TCP的25号端口与服务器通信。<br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zi342duyj30jg0f6whm.jpg" alt="image.png" class="img_ev3q"><br>
<strong>3个主要组成部分:</strong>  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 用户代理  </div><div class="admonitionContent_S0QG"><p>又名“邮件阅读器”<br>
<!-- -->撰写、编辑和阅读邮件<br>
<!-- -->如Outlook、Foxmail<br>
<!-- -->输出和输入邮件保存在服务器上<br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zgr0mcc4j308x0brmzk.jpg" alt="image.png" class="img_ev3q">  </p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 邮件服务器  </div><div class="admonitionContent_S0QG"><p>邮件中管理和维护发送给用户<br>
<!-- -->输出报文队列保持待发送邮件报文<br>
<!-- -->邮件服务器之间的SMTP协议:发送email报文  </p><blockquote><p>客户：发送方邮件服务器
服务器：接收端邮件服务器</p></blockquote><p><img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zgtw3spjj308g0amdht.jpg" alt="image.png" class="img_ev3q">  </p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 简单邮件传输协议: SMTP  </div><div class="admonitionContent_S0QG"><p><strong>使用TCP在客户端和服务器之间传送报文，端口号为25</strong><br>
<!-- -->直接传输：从发送方服务器到接收方服务器<br>
<strong>传输的3个阶段</strong></p><blockquote><p>握手<br>
<!-- -->传输报文<br>
<!-- -->关闭  </p></blockquote><p><strong>命令/响应交互</strong>  </p><blockquote><p>命令:ascii文本<br>
<!-- -->响应：状态码和状态信息</p></blockquote><p>报文必须为7位ASCII码</p></div></div><p><strong>举例：</strong><br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zhhpdnx9j30ks0eygtu.jpg" alt="image.png" class="img_ev3q">  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔</div><div class="admonitionContent_S0QG"><p>1、<strong>发送方Alice调用用户代理并提供接收方Bob的邮箱地址</strong>，在用户代理上撰写待发送的报文，接着指示用户代理发送报文。<br>
<!-- -->2、<strong>用户代理将Alice撰写的报文发送到Alice的邮件服务器</strong>，报文到达邮件服务器后将被分发到报文队列中。<br>
<!-- -->3、<strong>运行在Alice的邮件服务器</strong>的SMTP客户端发现报文队列中的这个报文后将会创建一个到运行在Bob邮件服务器的SMTP服务器的TCP连接。<br>
<!-- -->4、经过SMTP握手后，<strong>SMTP客户端通过TCP连接把报文发送出去</strong>。<br>
<!-- -->5、在Bob的邮件服务器上，<strong>SMTP服务器接收到报文后，邮件服务器将报文放入Bob的邮箱里</strong>。<br>
<!-- -->6、Bob有空时看到邮箱消息便<strong>调用用户代理</strong>查阅报文。  </p></div></div><p><img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zhjz8bwrj30jy0di45h.jpg" alt="image.png" class="img_ev3q">  </p><p><strong>SMTP总结</strong><br>
<!-- -->SMTP使用持久连接<br>
<!-- -->SMTP要求报文(首部和主体)为7位ASCII编码<br>
<!-- -->SMTP服务器使用 CRLF.CRLF决定报文的尾部  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 SMTP和HTTP比较</div><div class="admonitionContent_S0QG"><p>HTTP: 拉(pull)<br>
<!-- -->SMTP: 推(push)<br>
<!-- -->二者都是ASCII形式的命令/响应交互、状态码<br>
<!-- -->HTTP：每个对象封装在各自的响应报文中<br>
<!-- -->SMTP：多个对象包含在一个报文中  </p></div></div><p><strong>常见SMTP命令</strong>
指令 | 说明
:-----:|:-----:
HELO | 与服务器确认，通知其客户端使用的机器名称，一般邮件服务器不做限定
AUTH | 使用AUTH LOGIN与服务器进行登录验证
MAIL | FROM 发件人信息，填写与认证信息不同往往被定位为垃圾邮件或恶意邮件
RCPT TO | 收信人地址
DATA | 输入邮件基本信息
FROM | 邮件基本信息：发信人显示信息（此处可以伪造身份，但是非常容易被识别）
TO | 邮件基本信息：服务器收件人显示信息
SUBJECT | 邮件基本信息：邮件标题，不填写也往往容易被定位为垃圾邮件
QUIT | 断开链接</p><p><strong>常见SMTP返回码</strong><br>
<!-- -->返回码 | 说明
:-----:|:-----:
220 | 服务就绪
250 | 请求动作成功完成
235 | 认证通过
221 | 处理中
354 |发送开始，往往与data指令结合
500 |指令错误
550 |命令无法执行</p><p><strong>邮件报文格式</strong><br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zhmr3z7wj30k70a7n0i.jpg" alt="image.png" class="img_ev3q">  </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="邮件访问协议">邮件访问协议<a class="hash-link" href="#邮件访问协议" title="Direct link to heading">​</a></h3><p><strong>由于SMTP是一个PUSH（推）协议，所以接收方如何将邮件从位于ISP的邮件服务器上将邮件拉下来呢？</strong><br>
<!-- -->所以就产生了邮件访问协议，该协议将Bob的邮件服务器上的报文传给本地的PC。<br>
<img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2zhnny20yj30jc04smzg.jpg" alt="image.png" class="img_ev3q"><br>
<!-- -->常见的邮件访问协议：  </p><blockquote><p>POP：邮局访问协议-用户身份确认(代理&lt;–&gt;服务器)并下载<br>
<!-- -->IMAP：Internet 邮件访问协议-更多特性(更复杂)并在服务器上处理存储的报文<br>
<!-- -->HTTP：Hotmail, yahoo! Mail等比较方便  </p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pop3-第三版邮局协议">POP3 第三版邮局协议<a class="hash-link" href="#pop3-第三版邮局协议" title="Direct link to heading">​</a></h4><p>当用户代理打开邮件服务器（服务器）端口110上的TCP连接后，POP3开始工作。POP3按照三个阶段工作，分别是：特许、事务处理、更新。<br>
<!-- -->如果改变客户机，Bob不能阅读邮件<br>
<!-- -->POP3在会话中是无状态的  </p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 一、特许阶段</div><div class="admonitionContent_S0QG"><p>用户代理以明文形式发送用户名和口令来鉴别用户。<br>
<!-- -->有两个主要的命令，user-username和pass-password。<br>
<!-- -->客户端命令：  </p><blockquote><p>user：申明用户名<br>
<!-- -->pass: 口令  </p></blockquote><p>服务器响应:  </p><blockquote><p>+OK<br>
<!-- -->-ERR  </p></blockquote><p><img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2ziualbcej309t04gmy1.jpg" alt="image.png" class="img_ev3q">  </p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 二、事务处理</div><div class="admonitionContent_S0QG"><p>用户代理取回报文并对报文做删除标记。  </p><blockquote><p>list: 报文号列表<br>
<!-- -->retr:根据报文号检索报文<br>
<!-- -->dele:删除<br>
<!-- -->quit  </p></blockquote><p><img loading="lazy" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/img/006SHRs9gy1h2ziv84hwzj309g09h760.jpg" alt="image.png" class="img_ev3q">  </p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>🔔 三、更新阶段</div><div class="admonitionContent_S0QG"><p>客户发出quit命令后，结束POP3绘画，邮件服务器删除那些被标记删除的报文。</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="imap-因特网邮件访问协议">IMAP 因特网邮件访问协议<a class="hash-link" href="#imap-因特网邮件访问协议" title="Direct link to heading">​</a></h4><p><strong>与IMAP服务器将每个报文与一个文件夹联系起来</strong><br>
<!-- -->允许用户用目录来组织报文<br>
<!-- -->允许用户读取报文组件<br>
<!-- -->IMAP在会话过程中保留用户状态：  </p><blockquote><p>目录名、报文ID与目录名之间映射</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/计网">计网</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/计算机基础知识">计算机基础知识</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/inannan423/inannan423.github.io/tree/main/docs/Notes/03.ComputerNetwork/04.应用层.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Notes/ComputerNetwork/basic-knowledge"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">基础知识</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Notes/ComputerNetwork/application-layer-dns"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">应用层-DNS</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#应用层协议原理" class="table-of-contents__link toc-highlight">应用层协议原理</a></li><li><a href="#应用层程序的体系结构" class="table-of-contents__link toc-highlight">应用层程序的体系结构</a><ul><li><a href="#客户-服务器结构-cs" class="table-of-contents__link toc-highlight">客户-服务器结构 （C/S）</a></li><li><a href="#对等体系结构-p2p" class="table-of-contents__link toc-highlight">对等体系结构 （P2P）</a></li></ul></li><li><a href="#进程通信" class="table-of-contents__link toc-highlight">进程通信</a></li><li><a href="#传输层为应用层提供的服务" class="table-of-contents__link toc-highlight">传输层为应用层提供的服务</a></li><li><a href="#常见的应用" class="table-of-contents__link toc-highlight">常见的应用</a></li><li><a href="#应用层协议" class="table-of-contents__link toc-highlight">应用层协议</a><ul><li><a href="#tcp服务" class="table-of-contents__link toc-highlight">TCP服务</a></li><li><a href="#udp服务" class="table-of-contents__link toc-highlight">UDP服务</a></li><li><a href="#http超文本传输协议" class="table-of-contents__link toc-highlight">HTTP:超文本传输协议</a></li><li><a href="#http报文格式" class="table-of-contents__link toc-highlight">HTTP报文格式</a></li><li><a href="#http响应状态码" class="table-of-contents__link toc-highlight">HTTP响应状态码</a></li><li><a href="#cookie" class="table-of-contents__link toc-highlight">cookie</a></li></ul></li><li><a href="#web缓存-代理服务器" class="table-of-contents__link toc-highlight">WEB缓存 （代理服务器）</a><ul><li><a href="#条件getthe-conditional-get" class="table-of-contents__link toc-highlight">条件GET（The Conditional GET）</a></li></ul></li><li><a href="#电子邮件应用smtp" class="table-of-contents__link toc-highlight">电子邮件应用SMTP</a><ul><li><a href="#邮件访问协议" class="table-of-contents__link toc-highlight">邮件访问协议</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><img style="position:relative;height:60px;left:-10px;top:-15px" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/fter.png">
                <br>Copyright © 2023 
                <br>
                <p style="opacity:0.6;font-family:ubuntu;font-size:0.5rem;font-weight:500">Made with ❤ by Chengzihan. 
                <br> Powered by Docusaurus.  <br>
                MIT LICENSE</p>
               </li></ul></div><div class="col footer__col"><div class="footer__title">Website</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/front">Front-end</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/back">Back-end</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/study">Study</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/CodingOnline">Sandpack</a></li></ul></div><div class="col footer__col"><div class="footer__title">Tech Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">React<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://react.docschina.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Vue.js<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.w3school.com.cn/python/index.asp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://zq99299.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Java<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io/zh-CN/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/buildwith.png"><a>
                
                </a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://daymd.netlify.app/zh" target="_blank" rel="noopener noreferrer" class="footer__link-item">Daymd<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://csspano.netlify.app" target="_blank" rel="noopener noreferrer" class="footer__link-item">csspano<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/inannan423/orange-nan-mini_program" target="_blank" rel="noopener noreferrer" class="footer__link-item">nanMiniProgram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://inannan423.github.io/Svg_Board/#/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SVG Board<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/inannan423/inannan423.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">源代码<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://bljx2022project.github.io/bljx_blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">北林计协<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://swwtech.github.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">四外维科技<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.netlify.com/" target="_blank"><img style="height:50px;margin-top:0.5rem" src="https://jetzihan-img.oss-cn-beijing.aliyuncs.com/blog/netlify.png"><a>
                
                </a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.0e795303.js"></script>
<script src="/assets/js/main.33724437.js"></script>
</body>
</html>